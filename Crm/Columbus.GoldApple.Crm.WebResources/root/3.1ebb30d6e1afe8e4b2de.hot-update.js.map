{"version":3,"sources":["webpack:///./src/app/templateMergeTagsBuilderApp.tsx","webpack:///./src/components/transactionalEmail/templateMergeTagsBuilder/index.tsx"],"names":["ReactDOM","render","document","getElementById","Header","Footer","Content","props","state","metadata","componentDidMount","this","GetMetadata","fetch","Xrm","Page","context","getClientUrl","json","body","Array","value","forEach","entityMetadat","push","key","SchemaName","DisplayName","UserLocalizedLabel","Label","attributes","console","log","Layout","Button","type","size","React","Component"],"mappings":"mWAAA,cACA,WACA,OACA,gBAEAA,EAASC,OACP,gBAAC,UAAwB,MACzBC,SAASC,eAAe,U,s8DCP1B,cACA,SAIQC,EAAA,SAAAA,OAAQC,EAAA,SAAAA,OAAQC,EAAA,SAAAA,QAKxB,cACI,WAAYC,GAAZ,MACI,YAAMA,IAAM,K,OACZ,EAAKC,MAAQ,CACTC,SAAU,I,EAiDtB,OArDsD,OAQ5C,YAAAC,kBAAN,W,0FACI,SAAMC,KAAKC,e,cAAX,S,YAGE,YAAAA,YAAN,W,oGAEuB,O,sBAAA,GAAMC,MAASC,IAAIC,KAAKC,QAAQC,eAAc,kL,OAChD,SADE,SACaC,Q,cAAtBC,EAAO,SAETV,EAAW,IAAIW,MAEnBD,EAAKE,MAAMC,SAAQ,SAACC,GAChBd,EAASe,KAAK,CACVC,IAAKF,EAAcG,WACnBL,MAAOE,EAAcI,YAAYC,mBAAmBC,MACpDC,WAAW,Q,+BAKnBC,QAAQC,IAAI,G,+BAIpB,YAAA/B,OAAA,WACI,OACI,2BACI,gBAAC,EAAAgC,OAAM,KACH,gBAAC7B,EAAM,eACP,gBAACE,EAAO,KACJ,sCAGA,2BACI,gBAAC,EAAA4B,OAAM,CAACC,KAAK,OAAOC,KAAM,SAAO,cAIzC,gBAAC/B,EAAM,KACH,gBAAC,EAAA6B,OAAM,CAACC,KAAK,WAAS,aACtB,gBAAC,EAAAD,OAAM,oBAK/B,EArDA,CAAsDG,EAAMC,W","file":"3.1ebb30d6e1afe8e4b2de.hot-update.js","sourcesContent":["import * as React from \"react\";\r\nimport * as ReactDOM from \"react-dom\";\r\nimport \"./../assets/main.scss\"\r\nimport TemplateMergeTagsBuilder from \"../components/transactionalEmail/templateMergeTagsBuilder\";\r\n\r\nReactDOM.render(\r\n  <TemplateMergeTagsBuilder />,\r\n  document.getElementById(\"root\")\r\n);\r\n","import * as React from \"react\";\r\nimport { Layout, Button } from \"antd\";\r\nimport { MergeTagsBuilderState } from \"../../../models/mergeTagsBuilderState\";\r\nimport { EntityMetadata } from \"../../../models/entityMetadata\";\r\n\r\nconst { Header, Footer, Content } = Layout;\r\n\r\ninterface IProps {\r\n}\r\n\r\nexport default class TemplateMergeTagsBuilder extends React.Component<IProps, MergeTagsBuilderState> {\r\n    constructor(props: IProps) {\r\n        super(props);\r\n        this.state = {\r\n            metadata: []\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await this.GetMetadata();\r\n    }\r\n\r\n    async GetMetadata() {\r\n        try {\r\n            var response = await fetch(`${Xrm.Page.context.getClientUrl()}/api/data/v8.0/EntityDefinitions?$select=DisplayName,SchemaName&$filter=LogicalName eq 'contact' or LogicalName eq 'lead'&$expand=Attributes($select=LogicalName,DisplayName)`);\r\n            const body = await response.json();\r\n\r\n            var metadata = new Array<EntityMetadata>();\r\n\r\n            body.value.forEach((entityMetadat: any) => {\r\n                metadata.push({ \r\n                    key: entityMetadat.SchemaName, \r\n                    value: entityMetadat.DisplayName.UserLocalizedLabel.Label,\r\n                    attributes:[]\r\n                });\r\n            });\r\n\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Layout>\r\n                    <Header>Header</Header>\r\n                    <Content>\r\n                        <div>\r\n                            Content\r\n                        </div>\r\n                        <div>\r\n                            <Button type=\"link\" size={'small'}>\r\n                                добавить</Button>\r\n                        </div>\r\n                    </Content>\r\n                    <Footer>\r\n                        <Button type=\"primary\">Сохранить</Button>\r\n                        <Button>Закрыть</Button>\r\n                    </Footer>\r\n                </Layout>\r\n            </div>);\r\n    }\r\n}\r\n"],"sourceRoot":""}